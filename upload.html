<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Start your pack â€” Frankiemoji</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<!-- build: v8.5.0 -->

<style>
:root{--cream:#FAF3E0;--espresso:#2C2419;--graphite:#5F5B53;--amber:#F0C06C;--accent:#D8742B;--paper:#F8EED1;}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--cream);color:var(--espresso);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif}
h1,h2,h3{font-family:"DM Serif Display",Georgia,serif}
img{display:block;max-width:100%}
.container{max-width:1100px;margin:0 auto;padding:0 24px}

/* Top bar */
.topbar{position:sticky;top:0;z-index:50;background:rgba(250,243,224,.97);backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid #e8dfcc}
.topbar-inner{display:flex;justify-content:center;gap:16px;padding:10px 0}
.nav-btn{background:var(--accent);color:#fff;border:none;padding:10px 16px;border-radius:12px;font-weight:600;cursor:pointer;transition:all .2s}
.nav-btn:hover{background:#b85f22;transform:translateY(-1px)}

/* Hero + marquee */
.hero{text-align:center;padding:32px 0 8px}
.hero h1{margin:0 0 6px;font-size:42px}
.hero-sub{color:var(--graphite);max-width:520px;margin:0 auto}
.marquee-wrap{overflow:hidden;margin:10px 0 22px}
.marquee{display:flex;gap:16px;padding:8px 0;will-change:transform}
.marq-img{width:110px;height:110px;object-fit:contain;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.06);background:#fff;flex:0 0 auto}
@keyframes scrollLeft{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
@keyframes scrollRight{0%{transform:translateX(-50%)}100%{transform:translateX(0)}}
.track-left{animation:scrollLeft 50s linear infinite}
.track-right{animation:scrollRight 53s linear infinite}

/* Buttons */
.btn{display:inline-block;border:none;padding:12px 20px;border-radius:12px;background:var(--accent);color:#fff;font-weight:600;cursor:pointer;transition:all .2s}
.btn:hover{background:#b85f22;transform:translateY(-1px)}
.btn:active{transform:scale(.97)}
.btn.ghost{background:var(--accent);color:#fff}

/* Card + rows */
.upload-wrap{padding:10px 0 36px}
.card{background:#fff;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.06)}
.card.upload{margin:0 auto;max-width:560px;padding:20px}
.row{display:flex;gap:12px;align-items:center;margin:8px 0}
label.small{font-size:12px;color:var(--graphite)}

/* Inputs */
input[type="email"],input[type="tel"]{width:100%;padding:10px;border:1px solid #e6e0cf;border-radius:10px}

/* Expression chips */
.expr-chip{display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border:1px solid #eadfca;border-radius:999px;background:#fff;font-weight:600;cursor:pointer;font-size:13px;transition:transform .12s, box-shadow .12s, background .12s}
.expr-chip:hover{transform:translateY(-1px)}
.expr-chip.selected{background:#D8742B;color:#fff;border-color:#D8742B;box-shadow:0 2px 8px rgba(0,0,0,.10)}
.expr-thumb{font-size:11px;background:#fff;border:1px solid #eadfca;border-radius:14px;padding:4px 8px;line-height:1;color:#2C2419}

/* Success state */
.success{display:none;text-align:center;padding:24px 12px}

/* Footer */
.site-footer {
  border-top: 1px solid rgba(0,0,0,.04);
  background: #fdf7ee;
  padding: 1.5rem 0 2.5rem;
  text-align: center;
}

.footer-inner {
  width: min(1100px, 92%);
  margin: 0 auto;
}

.footer-inner p {
  font-size: 0.78rem;
  color: rgba(44,36,25,.85);
  margin-bottom: 0.75rem;
}

.footer-links {
  display: flex;
  justify-content: center;
  gap: 1.5rem;
}

.footer-links a {
  text-decoration: none;
  color: rgba(44,36,25,.85);
  font-weight: 500;
  font-size: 0.82rem;
  transition: color 0.25s ease, text-decoration-color 0.25s ease;
}

.footer-links a:hover {
  color: var(--espresso);
  text-decoration: underline;
  text-decoration-color: var(--espresso);
}

@media (max-width: 720px) {
  .footer-links {
    flex-direction: column;
    gap: 0.6rem;
  }
}


@media (max-width:900px){
  .hero h1{font-size:34px}
  .marq-img{width:96px;height:96px}
}
</style>
</head>

<body>
  <!-- Top bar -->
  <header class="topbar">
    <div class="container topbar-inner">
      <button class="nav-btn" onclick="location.href='index.html'">Home</button>
      <button class="nav-btn" onclick="location.href='our-story.html'">About</button>
    </div>
  </header>

  <!-- Marquee -->
  <div class="marquee-wrap" aria-hidden="true">
    <div id="mq1" class="marquee track-left"></div>
    <div id="mq2" class="marquee track-right"></div>
  </div>

  <!-- Hero -->
  <section class="hero">
    <div class="container" style="max-width:620px;margin:0 auto;">
      <h1>Start your pack</h1>
      <p class="hero-sub">Upload a selfie, add your email, and weâ€™ll get your <strong>hand-drawn inspired emojis</strong> started.</p>
      <p id="pack-note" style="color:#D8742B;font-weight:600;margin-top:8px;">Selected: â€”</p>
    </div>
  </section>

  <!-- Upload + Expressions card -->
  <section class="upload-wrap">
    <div class="container">
      <div class="card upload">
        <!-- Expressions -->
        <div id="expr-wrap" style="margin:6px 0 6px;">
          <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;">
            <strong style="font-size:14px;">Pick your expressions</strong>
            <span id="expr-count" style="font-size:12px;color:#5F5B53;">0 / 0 selected</span>
          </div>
          <div id="expr-chips" style="display:flex;flex-wrap:wrap;gap:8px;"></div>
          <div id="expr-thumbs" style="display:flex;gap:6px;margin-top:8px;"></div>
          <input type="hidden" id="expressions" value="">
        </div>

        <!-- Email + SMS -->
        <div class="row"><input id="email" type="email" placeholder="Email for delivery  â€¢  you@example.com" /></div>

        <div class="row">
          <label class="small" style="display:flex;align-items:center;gap:8px;">
            <input type="checkbox" id="sms-optin" style="transform:scale(1.2);" />
            Also text my emoji pack
          </label>
        </div>
        <div class="row" id="sms-row" style="display:none;">
          <input id="phone" type="tel" placeholder="Mobile number (optional)" />
        </div>
        <div class="row">
          <label class="small" style="font-size:11px;color:#5F5B53;">
            By providing your number, you agree to receive a one-time text message from Frankiemoji to deliver your emoji pack.
            Standard message rates may apply.
          </label>
        </div>

        <!-- Uploadcare picker + preview -->
        <div class="row">
          <input
            id="u-file"
            type="hidden"
            role="uploadcare-uploader"
            data-clearable=""
            data-tabs="file camera"
            data-images-only="true"
            data-multiple="false"
            data-preview-step="true"
          />
        </div>
        <div id="u-preview-wrap" style="display:none;margin:10px 0 16px;">
          <img id="u-preview" alt="preview" style="max-width:100%;border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.08);" />
        </div>

        <!-- Actions -->
        <div class="row" style="justify-content:flex-end">
          <a class="btn" href="index.html" style="background:#fff;color:var(--espresso);border:1px solid #eadfca;">Back</a>
          <button class="btn" id="send-btn">Send</button>
        </div>

        <!-- Success -->
        <div class="success" id="success">
          <h2 style="margin:0 0 8px;">All set ðŸŽ‰</h2>
          <p style="opacity:.85;margin:0 0 12px;">We saved your details and selfie. Youâ€™ll hear from us soon.</p>
          <div style="display:flex;gap:10px;justify-content:center;">
            <a class="btn" href="index.html#pricing">Back to pricing</a>
            <a class="btn" href="our-story.html">About Frankiemoji</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
  <div class="footer-inner">
    <p>Â© 2025 Frankiemojiâ„¢ Studios LLC. All Rights Reserved. Born with a Pencil. Evolved with Technology.</p>
    <div class="footer-links">
      <a href="privacy.html">Privacy</a>
      <a href="terms.html">Terms</a>
      <a href="contact.html">Contact</a>
    </div>
  </div>
</footer>


  <!-- Marquee loader (manifest â†’ GitHub â†’ hard fallback) -->
  <script>
  (function () {
    const GH = { owner:"martinez-frank", repo:"Emoji1", branch:"main" };
    const EXCLUDE = ["starter","standard","premium"];
    const EXTRA = [/\.ds_store/i, /%20/];

    const q = (s)=>document.querySelector(s);
    const row1 = q("#mq1"), row2 = q("#mq2");
    if (!row1 || !row2) return;

    const isOut = (s)=>{ s=(s||"").toLowerCase(); return EXCLUDE.some(x=>s.includes(x)) || EXTRA.some(rx=>rx.test(s)); };
    const shuffle = (a)=>{ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; };
    const build = (urls)=>{
      const f=document.createDocumentFragment();
      urls.concat(urls).forEach(src=>{
        const im=new Image();
        im.className="marq-img"; im.loading="lazy"; im.decoding="async"; im.alt="Frankiemoji";
        im.src=src; im.onerror=()=>im.remove();
        f.appendChild(im);
      });
      return f;
    };

    async function fromManifest(){
      // support: array OR {stickers:[â€¦]}
      try{
        const res = await fetch("images/manifest.json?cb="+Date.now(), {cache:"no-store"});
        if(!res.ok) throw 0;
        const data = await res.json();
        const list = Array.isArray(data) ? data : (Array.isArray(data.stickers) ? data.stickers : []);
        return list.map(s => String(s).startsWith("images/") ? s : `images/${s}`)
                   .filter(s => /\.(png|jpe?g|webp|gif)$/i.test(s) && !isOut(s));
      }catch{ return []; }
    }

    async function fromGitHub(){
      try{
        const url = `https://api.github.com/repos/${GH.owner}/${GH.repo}/contents/images?ref=${GH.branch}`;
        const r = await fetch(url,{headers:{Accept:"application/vnd.github+json"}});
        if(!r.ok) throw 0;
        const items = await r.json();
        return items.filter(it=>it.type==="file")
                    .filter(it => /\.webp$/i.test(it.name))
                    .filter(it=>!isOut(it.name)&&!isOut(it.path))
                    .map(it=>it.download_url);
      }catch{ return []; }
    }

    (async ()=>{
      let urls = await fromManifest();
      if (!urls.length) {
        const gh = await fromGitHub();
        urls = gh;
      }
      if (!urls.length) {
        urls = ["images/wink.webp","images/laugh.webp","images/smirk.webp","images/ohno.webp"];
      }

      urls = shuffle([...new Set(urls)]);
      row1.appendChild(build(urls));
      row2.appendChild(build([...urls].reverse()));
      row1.style.animationDuration = (50 + Math.random()*2).toFixed(2) + "s";
      row2.style.animationDuration = (53 + Math.random()*2).toFixed(2) + "s";

      // pause on hover
      document.querySelectorAll(".marquee").forEach(m=>{
        m.addEventListener("mouseenter", ()=> m.style.animationPlayState="paused");
        m.addEventListener("mouseleave", ()=> m.style.animationPlayState="running");
      });
    })();
  })();
  </script>

  <!-- Uploadcare -->
  <script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
  <script>window.UPLOADCARE_PUBLIC_KEY='demopublickey';</script>

  <!-- Page logic: pack, expressions, email/sms, upload, send -->
  <script>
  (function(){
    const qs = (s)=>document.querySelector(s);
    const pack = new URLSearchParams(location.search).get('pack') || 'starter';
    const PRETTY = {starter:'Starter', standard:'Standard', premium:'Premium'};
    const MAX_BY_PACK = {starter:3, standard:9, premium:18};

    // pack note
    const note = qs('#pack-note'); if (note) note.textContent = `Selected: ${PRETTY[pack] || 'Starter'} Pack`;

    // prefill email
    let start = {};
    try { start = JSON.parse(localStorage.getItem('franki:start') || '{}'); } catch(_) {}
    if (start.email) qs('#email').value = start.email;

    // SMS toggle
    const optin = qs('#sms-optin'), smsRow = qs('#sms-row');
    if (optin && smsRow){ optin.addEventListener('change', ()=> smsRow.style.display = optin.checked ? 'flex' : 'none'); }

    // expression chips
    const EXPRESSIONS = [
      "Happy","Laughing","Wink","Big Grin","Smirk",
      "Thumbs Up","Heart Eyes","Surprised","Face Palm","Eye Roll",
      "Tired","Sad","Tearful","Angry","Mind Blown",
      "Cool (Sunglasses)","Confident","Skeptical","Thinking","Cheeky Tongue",
      "Shy","Kiss","Celebrating","Coffee","Prayer Hands"
    ];
    const MAX = MAX_BY_PACK[pack] || 3;
    const chipsEl = qs('#expr-chips'), thumbsEl = qs('#expr-thumbs'), hiddenEl = qs('#expressions'), countEl = qs('#expr-count');
    const selected = new Set();
    function render(){
      hiddenEl.value = Array.from(selected).join(',');
      if (countEl) countEl.textContent = `${selected.size} / ${MAX} selected`;
      thumbsEl.innerHTML = '';
      selected.forEach(n=>{ const t=document.createElement('span'); t.className='expr-thumb'; t.textContent=n; thumbsEl.appendChild(t); });
    }
    function toggle(name, chip){
      if (selected.has(name)){ selected.delete(name); chip.classList.remove('selected'); }
      else {
        if (selected.size >= MAX){ chip.style.transform='translateY(-1px) scale(0.98)'; setTimeout(()=>chip.style.transform='',150); return; }
        selected.add(name); chip.classList.add('selected');
      }
      render();
    }
    EXPRESSIONS.forEach(name=>{
      const b=document.createElement('button'); b.type='button'; b.className='expr-chip'; b.textContent=name;
      b.addEventListener('click',()=>toggle(name,b)); chipsEl.appendChild(b);
    });
    render();

    // Uploadcare widget + preview
    const widget = uploadcare.Widget('#u-file');
    let filePromise = null;
    function showPreview(cdnUrl){
      const wrap = qs('#u-preview-wrap'), img = qs('#u-preview');
      if (!cdnUrl){ wrap.style.display='none'; return; }
      img.src = cdnUrl + '-/preview/800x800/-/quality/smart/'; wrap.style.display='block';
    }
    widget.onChange(function(file){
      filePromise = file || null;
      if (!file){ showPreview(''); return; }
      file.done(function(info){ showPreview(info.cdnUrl); });
    });

    // Send
    qs('#send-btn').addEventListener('click', function(e){
      e.preventDefault();
      const email = (qs('#email').value||'').trim();
      if (!email){ alert('Please enter your email.'); qs('#email').focus(); return; }

      try { localStorage.setItem('franki:start', JSON.stringify({ email })); } catch(_){}

      let phone='', sms_optin=false;
      if (optin && optin.checked){
        sms_optin = true;
        phone = (qs('#phone').value||'').trim();
        const d = phone.replace(/\D/g,'');
        if (!d || d.length < 10 || d.length > 15){ alert('Please enter a valid mobile number (10â€“15 digits) or uncheck SMS.'); return; }
      }

      if (!filePromise){ alert('Please choose a photo first.'); return; }

      filePromise.done(function(info){
        if (!info || !info.cdnUrl){ alert('Upload is still processing.'); return; }

        const order = {
          email, sms_optin, phone,
          pack, expressions: (qs('#expressions').value||'').split(',').filter(Boolean),
          upload: { cdnUrl: info.cdnUrl, uuid: info.uuid, size: info.size, name: info.name, mime: info.mimeType }
        };
        try { localStorage.setItem('franki:order', JSON.stringify(order)); } catch(_){}

        qs('#success').style.display='block';
        this.closest('.row').style.display='none';
        qs('#success').scrollIntoView({behavior:'smooth'});
      });
    });
  })();
  </script>
</body>
</html>
