<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Start your pack ‚Äî Frankiemoji</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style-v8.0.css">
  <!-- build: v8.4.0 -->

<style>
  #expr-thumbs { display: none !important; }
:root{--cream:#FAF3E0;--espresso:#2C2419;--graphite:#5F5B53;--amber:#F0C06C;--accent:#D8742B;--paper:#F8EED1;}
*{box-sizing:border-box} html,body{margin:0;padding:0;background:var(--cream);color:var(--espresso);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif}
h1,h2,h3{font-family:"DM Serif Display",Georgia,serif}
img{display:block;max-width:100%}
.container{max-width:1100px;margin:0 auto;padding:0 24px}
/* expression chips */
.expr-chip{
  display:inline-flex;align-items:center;justify-content:center;
  padding:8px 12px;border:1px solid #eadfca;border-radius:999px;
  background:#fff;font-weight:600;cursor:pointer;font-size:13px;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.expr-chip:hover{ transform:translateY(-1px); }
.expr-chip.selected{
  background:#D8742B;color:#fff;border-color:#D8742B;
  box-shadow:0 2px 8px rgba(0,0,0,.10);
}

/* tiny round thumbnails for selected labels */
.expr-thumb{
  font-size:11px;background:#fff;border:1px solid #eadfca;
  border-radius:14px;padding:4px 8px;line-height:1; color:#2C2419;
}

  
/* Top bar */
/* Top bar */
.topbar{
  position:sticky;top:0;z-index:50;
  background:rgba(250,243,224,.97);
  backdrop-filter:saturate(140%) blur(6px);
  border-bottom:1px solid #e8dfcc;
}
.topbar-inner{
  display:flex;
  justify-content:center;   /* centers Home + About */
  align-items:center;
  gap:20px;
  padding:10px 0;
}

/* Unified nav button (Home + About) */
.nav-btn{
  background:#D8742B;
  color:#fff;
  border:none;
  padding:10px 16px;
  border-radius:12px;
  font-weight:600;
  cursor:pointer;
  transition:all .2s ease;
}
.nav-btn:hover{
  background:#b85f22;
  transform:translateY(-1px);
}

/* Head + helper */
.hero{padding:28px 0 8px}
.hero h1{margin:0 0 6px;font-size:42px}
.hero-sub{color:var(--graphite);max-width:520px}


/* üî∏ Unified Frankiemoji Button Styling */
.btn {
  display:inline-block;
  border:none;
  padding:12px 20px;
  border-radius:12px;
  background:#D8742B;
  color:#fff;
  font-weight:600;
  font-family:inherit;
  cursor:pointer;
  transition:all 0.2s ease;
}
.btn:hover { background:#b85f22; transform:translateY(-1px); }
.btn:active { transform:scale(0.97); }

/* make all variants orange */
.btn.primary,
.btn.ghost { background:#D8742B; color:#fff; border:none; }

/* Upload card */
.upload-wrap{padding:20px 0 36px}
.card{background:#fff;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.06)}
.card.upload{margin:0 auto;max-width:560px;padding:20px}
.row{display:flex;gap:12px;align-items:center;margin:8px 0}
label.small{font-size:12px;color:var(--graphite)}
/* style only the visible email field */ input[type="email"]{   width:100%;   padding:10px;   border:1px solid #e6e0cf;   border-radius:10px; }  /* keep hidden file inputs hidden no matter what */ input[type="file"][hidden]{ display:none !important; }
/* match phone input styling to email */
input[type="tel"]{
  width:100%;
  padding:10px;
  border:1px solid #e6e0cf;
  border-radius:10px;
}
  
/* Emoji marquee */
.marquee-wrap{overflow:hidden;margin:10px 0 22px}
.marquee{display:flex;gap:16px;padding:8px 0;will-change:transform}
.marq-img{width:110px;height:110px;object-fit:contain;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.06);background:#fff;flex:0 0 auto}
@keyframes scrollLeft{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
@keyframes scrollRight{0%{transform:translateX(-50%)}100%{transform:translateX(0)}}
.track-left{animation:scrollLeft 50s linear infinite}
.track-right{animation:scrollRight 53s linear infinite}

/* Footer */
.site-footer{padding:28px 0}
.site-footer .container{display:flex;align-items:center;justify-content:space-between;gap:16px;border-top:1px solid #eee;padding-top:16px}
.site-footer a{color:var(--espresso);text-decoration:none;margin-left:16px}

@media (max-width:900px){
  .hero h1{font-size:34px}
  .marq-img{width:96px;height:96px}
}
</style>
</head>

<body>

<!-- Top bar with Home button -->
<header class="topbar">
  <div class="container topbar-inner">
    <button class="nav-btn" onclick="location.href='index.html'">Home</button>
    <button class="nav-btn" onclick="location.href='our-story.html'">About</button>
  </div>
</header>

<!-- Fun emoji marquee -->
<div class="marquee-wrap" aria-hidden="true">
  <div id="mq1" class="marquee track-left"></div>
  <div id="mq2" class="marquee track-right"></div>
</div>

<!-- Hero -->
<section class="hero" style="text-align:center;">
  <div class="container" style="max-width:620px;margin:0 auto;">
    <h1>Start your pack</h1>
    <p class="hero-sub" style="margin:0 auto;line-height:1.5;">
      Upload a selfie, add your email, and we‚Äôll get your <strong>hand-drawn inspired emojis</strong> started.
    </p>
    <p id="pack-note" style="color:#D8742B;font-weight:600;margin-top:8px;">Selected: Starter Pack</p>
  </div>
</section>


<!-- Upload card -->
<section class="upload-wrap">
  <div class="container">
    <div class="card upload">
      <!-- Native options -->
      <div class="row">
        <button class="btn ghost" onclick="document.getElementById('device-file').click()">Choose from device</button>
        <!-- On mobile, this opens the camera directly -->
        <button class="btn ghost" onclick="document.getElementById('camera-file').click()">Use camera</button>
      </div>

      <div class="row">
<input id="device-file" type="file" accept="image/*" hidden>
<input id="camera-file" type="file" accept="image/*" capture="user" hidden>
 <input type="hidden" id="pack" value="">
       
      </div>

      <!-- Optional: Social imports via Uploadcare (auto-hidden if key not set) -->
      <div id="uc-row" class="row" style="display:none">
        <button class="btn" id="uc-open">Import from‚Ä¶ (Google Photos, Instagram, etc.)</button>
      </div>
      <label class="small">Clear, front-facing, good lighting works best.</label>
<!-- Expressions picker -->
<div id="expr-wrap" style="margin:10px 0 6px;">
  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:6px;">
    <strong style="font-size:14px;">Pick your expressions</strong>
    <span id="expr-count" style="font-size:12px;color:#5F5B53;">0 / 0 selected</span>
  </div>

  <div id="expr-chips" style="display:flex;flex-wrap:wrap;gap:8px;"></div>

  <!-- tiny thumbnails of selected -->
  <div id="expr-thumbs" style="display:flex;gap:6px;margin-top:8px;"></div>

  <!-- store selections (CSV) for submission -->
  <input type="hidden" id="expressions" value="">
</div>

      <!-- Email -->
<div class="row">
  <input id="email" type="email" placeholder="Email for delivery  ‚Ä¢  you@example.com" />
</div>

<!-- SMS delivery option -->
<div class="row">
  <label class="small" style="display:flex;align-items:center;gap:8px;">
    <input type="checkbox" id="sms-optin" style="transform:scale(1.2);" />
    Also text my emoji pack
  </label>
</div>

<div class="row" id="sms-row" style="display:none;">
  <input id="phone" type="tel" placeholder="Mobile number (optional)" />
</div>

<div class="row">
  <label class="small" style="font-size:11px;color:#5F5B53;">
    By providing your number, you agree to receive a one-time text message from Frankiemoji to deliver your emoji pack.
    Standard message rates may apply.
  </label>
</div>

      <div class="row" style="justify-content:flex-end">
        <button class="btn primary" id="continue">Continue</button>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="site-footer">
  <div class="container">
    <p>Born with Paper and Pencil. Evolved with Technology.</p>
    <div class="links">
      <a href="index.html#">Privacy</a><a href="index.html#">Terms</a><a href="mailto:hello@example.com">Contact</a>
    </div>
  </div>
</footer>
</footer>

<!-- Emoji marquee (reuse from index with a lightweight fetch) -->
<script>
(function(){
  const OWNER="martinez-frank", REPO="Emoji1", BRANCH="main";
  const EXCLUDE=["starter","standard","premium"];
  const EXTRA=[/\.ds_store/i,/manifest/i,/%20/];
  const out=s=>{s=(s||"").toLowerCase();return EXCLUDE.some(x=>s.includes(x))||EXTRA.some(rx=>rx.test(s));};
  const shuffle=a=>{for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;};
  const build=(urls)=>{const f=document.createDocumentFragment();urls.concat(urls).forEach(src=>{const im=new Image();im.className="marq-img";im.loading="lazy";im.alt="Frankiemoji face";im.src=src;im.onerror=()=>im.remove();f.appendChild(im);});return f;};
  async function fromGit(){
    try{
      const url=`https://api.github.com/repos/${OWNER}/${REPO}/contents/images?ref=${BRANCH}`;
      const r=await fetch(url,{headers:{Accept:"application/vnd.github+json"}});
      if(!r.ok) throw 0;
      const items=await r.json();
      return items.filter(it=>it.type==="file")
                  .filter(it=>/\.(png|jpe?g|webp|gif)$/i.test(it.name))
                  .filter(it=>!out(it.name)&&!out(it.path))
                  .map(it=>it.download_url);
    }catch{return []}
  }
  (async()=>{
    let urls=await fromGit();
    if(!urls.length) urls=["images/e01.png","images/e02.png","images/e03.png","images/e04.png"];
    urls=shuffle([...new Set(urls)]);
    const mq1=document.getElementById("mq1"), mq2=document.getElementById("mq2");
    mq1.appendChild(build(urls));
    mq2.appendChild(build([...urls].reverse()));
    mq1.style.animationDuration=(50+Math.random()*2).toFixed(2)+"s";
    mq2.style.animationDuration=(53+Math.random()*2).toFixed(2)+"s";
  })();
})();
</script>

<!-- Progressive Uploadcare (optional) -->
<script>
(function(){
  function ready(fn){document.readyState!=="loading"?fn():document.addEventListener("DOMContentLoaded",fn);}
  ready(()=>{
    if(window.UPLOADCARE_PUBLIC_KEY){
      const row=document.getElementById("uc-row"); row.style.display="flex";
      const btn=document.getElementById("uc-open");
      if(!document.getElementById("uc-script")){
        const s=document.createElement("script");
        s.id="uc-script"; s.src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"; s.async=true;
        document.head.appendChild(s);
      }
      btn.addEventListener("click",()=>{
        const dialog=uploadcare.openDialog(null,{publicKey:window.UPLOADCARE_PUBLIC_KEY, imagesOnly:true});
        dialog.done(function(file){ file.done(function(fileInfo){
          alert("Imported: "+fileInfo.cdnUrl);
        });});
      });
    }
    const dev=document.getElementById("device-file");
    const cam=document.getElementById("camera-file");
    [dev,cam].forEach(inp=>inp.addEventListener("change",()=>{ if(inp.files && inp.files[0]) alert("Selected: "+inp.files[0].name); }));
   document.getElementById("continue").addEventListener("click",()=>{
  const email = document.getElementById("email").value.trim();
  if (!email) {
    alert("Please enter an email so we can deliver your emojis.");
    return;
  }

  // check if user opted for SMS
  const smsOptIn = document.getElementById("sms-optin")?.checked;
  const phone = document.getElementById("phone")?.value.trim();

  // validate phone number if SMS option is checked
  if (smsOptIn && !phone) {
    alert("Please add your mobile number or uncheck the text option.");
    return;
  }

  // friendly confirmation message
  if (smsOptIn) {
    alert(`Thanks! We‚Äôll email your pack to ${email} and text it to ${phone}.`);
  } else {
    alert(`Thanks! We‚Äôll email your pack to ${email}.`);
  }

  // redirect to home page (pricing section)
 <!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Thanks ‚Äî Frankiemoji</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style-v8.0.css">

<style>
  body{background:#FAF3E0;color:#2C2419}
  .wrap{max-width:720px;margin:64px auto;padding:0 24px;text-align:center}
  .card{background:#fff;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:28px;margin-top:18px}
  .title{font-family:"DM Serif Display",Georgia,serif;font-size:44px;margin:0 0 8px}
  .sub{color:#5F5B53;margin:0 0 14px}
  .pill{display:inline-block;background:#F0C06C;color:#2C2419;border-radius:999px;padding:6px 12px;font-weight:600;margin:4px}
  .btn{display:inline-block;margin-top:18px;background:#D8742B;color:#fff;border:none;border-radius:12px;padding:12px 18px;font-weight:600;cursor:pointer}
  .btn:hover{background:#b85f22;transform:translateY(-1px)}
  .muted{font-size:12px;color:#5F5B53;margin-top:10px}
</style>
</head>
<body>

<div class="wrap">
  <h1 class="title">You‚Äôre all set üéâ</h1>
  <p class="sub" id="summary">We‚Äôre preparing your pack now‚Ä¶</p>

  <div class="card">
    <h3 style="margin:0 0 10px;">Selected expressions</h3>
    <div id="expr" style="margin-top:6px;"></div>

    <button class="btn" onclick="location.href='index.html#pricing'">Back to pricing</button>
    <div class="muted">Need help? <a href="mailto:hello@example.com">Contact us</a>.</div>
  </div>
</div>

<script>
  // Simple query parser
  const q = new URLSearchParams(location.search);
  const email = q.get('email') || '';
  const phone = q.get('phone') || '';
  const pack  = (q.get('pack') || 'starter').replace(/\b\w/g, m=>m.toUpperCase());
  const exprs = (q.get('expr') || '').split(',').filter(Boolean);

  // Mask phone if present
  function maskPhone(p){
    const d = p.replace(/\D/g,'');
    if(d.length < 4) return '';
    return d.length > 6
      ? `(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6)}`
      : d;
  }

  // Summary line
  const parts = [`emailed to <strong>${email}</strong>`];
  if (phone) parts.push(`texted to <strong>${maskPhone(phone)}</strong>`);
  document.getElementById('summary').innerHTML =
    `Your <strong>${pack} Pack</strong> will be ${parts.join(' and ')}.`;

  // Expression pills
  const exprDiv = document.getElementById('expr');
  if(exprs.length){
    exprs.forEach(e=>{
      const span = document.createElement('span');
      span.className = 'pill';
      span.textContent = e;
      exprDiv.appendChild(span);
    });
  } else {
    exprDiv.textContent = 'No expressions were selected.';
  }
</script>
</body>
</html>

});
  });
})();
</script>

<!-- Detect which pack was chosen from the homepage -->
<script>
const pack = new URLSearchParams(location.search).get('pack') || 'starter';
const pretty = {starter:'Starter', standard:'Standard', premium:'Premium'}[pack] || 'Starter';
const note = document.getElementById('pack-note');
if (note) note.textContent = `Selected: ${pretty} Pack`;
const hidden = document.getElementById('pack');
if (hidden) hidden.value = pack;
</script>

<!-- Expressions Picker (compact, waits for pack) -->
<script>
(function(){
const EXPRESSIONS = [
  "Happy","Laughing","Wink","Big Grin","Smirk",
  "Thumbs Up","Heart Eyes","Surprised","Face Palm","Eye Roll",
  "Tired","Sad","Tearful","Angry","Mind Blown",
  "Cool (Sunglasses)","Confident","Skeptical","Thinking","Cheeky Tongue",
  "Shy","Kiss","Celebrating","Coffee","Prayer Hands"
];

  function initPicker() {
    const packInput = document.getElementById('pack');
    if (!packInput || !packInput.value) return setTimeout(initPicker, 200);

    const tier = packInput.value.toLowerCase();
    const MAX = {starter:3, standard:9, premium:18}[tier] || 3;

    const countEl = document.getElementById('expr-count');
    const chipsEl = document.getElementById('expr-chips');
    const thumbsEl = document.getElementById('expr-thumbs');
    const hiddenEl = document.getElementById('expressions');
    if(!chipsEl || !thumbsEl || !hiddenEl) return;

    if (countEl) countEl.textContent = `0 / ${MAX} selected`;
    const selected = new Set();

    function render(){
      hiddenEl.value = Array.from(selected).join(',');
      if (countEl) countEl.textContent = `${selected.size} / ${MAX} selected`;
      thumbsEl.innerHTML = '';
      Array.from(selected).forEach(name=>{
        const t=document.createElement('span');
        t.className='expr-thumb';
        t.textContent=name;
        thumbsEl.appendChild(t);
      });
    }

    function toggle(name, chip){
      if (selected.has(name)){
        selected.delete(name);
        chip.classList.remove('selected');
      } else {
        if (selected.size >= MAX){
          chip.style.transform='translateY(-1px) scale(0.98)';
          setTimeout(()=>chip.style.transform='',150);
          return;
        }
        selected.add(name);
        chip.classList.add('selected');
      }
      render();
    }

    EXPRESSIONS.forEach(name=>{
      const b=document.createElement('button');
      b.type='button';
      b.className='expr-chip';
      b.textContent=name;
      b.addEventListener('click',()=>toggle(name,b));
      chipsEl.appendChild(b);
    });

    render();
  }

  document.addEventListener('DOMContentLoaded', initPicker);
})();
</script>
<script>
document.addEventListener("DOMContentLoaded", ()=>{
  const optin = document.getElementById('sms-optin');
  const smsRow = document.getElementById('sms-row');
  if (optin && smsRow){
    optin.addEventListener('change', ()=>{
      smsRow.style.display = optin.checked ? 'flex' : 'none';
    });
  }
});
</script>
<!-- Upload step logic: read data from index, collect selfie, show success -->
<section id="u-root" class="container" style="max-width:560px;margin:40px auto;">
  <h1 style="margin-bottom:8px;">Upload your selfie</h1>
  <p id="u-desc" style="opacity:.8;margin-bottom:16px;">Clear, front-facing, good lighting works best.</p>

  <div id="u-meta" style="background:var(--paper,#fff8);border:1px solid #eee;padding:12px 14px;border-radius:12px;margin-bottom:16px;">
    <div><strong>Selected pack:</strong> <span id="u-pack">‚Äî</span></div>
    <div><strong>Email:</strong> <span id="u-email">‚Äî</span></div>
  </div>

  <div id="u-form">
    <label for="u-file" style="display:block;margin-bottom:8px;font-weight:600;">Choose a photo</label>
    <input id="u-file" type="file" accept="image/*" capture="environment" style="margin-bottom:14px;" />

    <div id="u-preview-wrap" style="display:none;margin:10px 0 16px;">
      <img id="u-preview" alt="preview" style="max-width:100%;border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.08);" />
    </div>

    <div style="display:flex;gap:10px;">
      <a class="btn" href="index.html" style="flex:1;text-align:center;">Back</a>
      <button id="u-submit" class="btn primary" style="flex:1;">Send</button>
    </div>
  </div>

  <div id="u-done" style="display:none;text-align:center;padding:24px 12px;">
    <h2 style="margin:0 0 8px;">All set üéâ</h2>
    <p style="opacity:.85;margin:0 0 12px;">We saved your details and selfie. You‚Äôll hear from us soon.</p>
    <div style="display:flex;gap:10px;justify-content:center;">
      <a class="btn" href="index.html">Make another pack</a>
      <a class="btn" href="our-story.html">About Frankiemoji</a>
    </div>
  </div>
</section>

<script>
(function () {
  // --- helpers
  function qs(sel){ return document.querySelector(sel); }
  function getPack(){
    const p = new URLSearchParams(location.search).get('pack');
    return (p && ['starter','standard','premium'].includes(p)) ? p : 'standard';
  }

  // --- DOM
  const root   = qs('#u-root');
  const emailEl= qs('#u-email');
  const packEl = qs('#u-pack');
  const fileIn = qs('#u-file');
  const prevW  = qs('#u-preview-wrap');
  const prev   = qs('#u-preview');
  const submit = qs('#u-submit');
  const formUI = qs('#u-form');
  const doneUI = qs('#u-done');

  // --- read payload from index step
  let start = {};
  try { start = JSON.parse(localStorage.getItem('franki:start') || '{}'); } catch (_) {}

  const pack = getPack();
  packEl.textContent = pack.charAt(0).toUpperCase() + pack.slice(1);

  if (start && start.email) {
    emailEl.textContent = start.email;
  } else {
    emailEl.textContent = 'Not provided';
  }

  // --- preview selected image
  fileIn.addEventListener('change', () => {
    const f = fileIn.files && fileIn.files[0];
    if (!f) { prevW.style.display = 'none'; return; }
    const url = URL.createObjectURL(f);
    prev.src = url;
    prevW.style.display = 'block';
  });

  // --- submit
  submit.addEventListener('click', (e) => {
    e.preventDefault();
    const f = fileIn.files && fileIn.files[0];
    if (!f) { alert('Please choose a photo.'); return; }

    // Minimal ‚Äúhandoff‚Äù: we store meta so the next step/backend can read it.
    const payload = {
      email: start.email || '',
      pack,
      // store only a tiny hint; DO NOT convert to base64 to avoid bloat
      fileName: f.name,
      fileType: f.type,
      fileSize: f.size
    };
    try { localStorage.setItem('franki:upload', JSON.stringify(payload)); } catch (_) {}

    // Success state (no dead end)
    formUI.style.display = 'none';
    doneUI.style.display = 'block';
    root.scrollIntoView({behavior: 'smooth'});
  });
})();
</script>
<!-- Upload step UI -->
<section id="u-root" class="container" style="max-width:560px;margin:40px auto;">
  <h1 style="margin-bottom:8px;">Upload your selfie</h1>
  <p style="opacity:.8;margin-bottom:16px;">Clear, front-facing, good lighting works best.</p>

  <div style="background:#fff7e6;border:1px solid #eee;padding:12px 14px;border-radius:12px;margin-bottom:16px;">
    <div><strong>Selected pack:</strong> <span id="u-pack">‚Äî</span></div>
    <div><strong>Email:</strong> <span id="u-email">‚Äî</span></div>
  </div>

  <div id="u-form">
    <label style="display:block;margin-bottom:8px;font-weight:600;">Choose a photo</label>

    <!-- Uploadcare picker -->
    <input
      id="u-file"
      type="hidden"
      role="uploadcare-uploader"
      data-clearable=""
      data-tabs="file camera"
      data-images-only="true"
      data-multiple="false"
      data-preview-step="true"
      style="margin-bottom:14px;"
    />

    <!-- Live preview -->
    <div id="u-preview-wrap" style="display:none;margin:10px 0 16px;">
      <img id="u-preview" alt="preview" style="max-width:100%;border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.08);" />
    </div>

    <div style="display:flex;gap:10px;">
      <a class="btn" href="index.html" style="flex:1;text-align:center;">Back</a>
      <button id="u-submit" class="btn primary" style="flex:1;">Send</button>
    </div>
  </div>

  <div id="u-done" style="display:none;text-align:center;padding:24px 12px;">
    <h2 style="margin:0 0 8px;">All set üéâ</h2>
    <p style="opacity:.85;margin:0 0 12px;">We saved your details and selfie. You‚Äôll hear from us soon.</p>
    <div style="display:flex;gap:10px;justify-content:center;">
      <a class="btn" href="index.html">Make another pack</a>
      <a class="btn" href="our-story.html">About Frankiemoji</a>
    </div>
  </div>
</section>

<!-- Uploadcare widget (demo key for now; replace later with your own) -->
<script src="https://ucarecdn.com/libs/widget/3.x/uploadcare.full.min.js"></script>
<script>window.UPLOADCARE_PUBLIC_KEY='demopublickey';</script>

<script>
(function () {
  function qs(sel){ return document.querySelector(sel); }
  function getPack(){
    const p = new URLSearchParams(location.search).get('pack');
    return (p && ['starter','standard','premium'].includes(p)) ? p : 'standard';
  }

  const root   = qs('#u-root');
  const emailEl= qs('#u-email');
  const packEl = qs('#u-pack');
  const prevW  = qs('#u-preview-wrap');
  const prev   = qs('#u-preview');
  const submit = qs('#u-submit');
  const formUI = qs('#u-form');
  const doneUI = qs('#u-done');

  // read data saved on index (email)
  let start = {};
  try { start = JSON.parse(localStorage.getItem('franki:start') || '{}'); } catch (_) {}
  const pack = getPack();
  packEl.textContent  = pack.charAt(0).toUpperCase() + pack.slice(1);
  emailEl.textContent = start?.email ? start.email : 'Not provided';

  // Uploadcare widget hookup
  const input = qs('#u-file');
  let filePromise = null;

  function showPreviewFromCdn(cdnUrl){
    if (!cdnUrl) { prevW.style.display = 'none'; return; }
    prev.src = cdnUrl + '-/preview/800x800/-/quality/smart/';
    prevW.style.display = 'block';
  }

  function boot(){
    if (typeof uploadcare === 'undefined') return;
    const widget = uploadcare.Widget(input);

    widget.onChange(function (file) {
      filePromise = file || null;
      if (!file) { showPreviewFromCdn(''); return; }
      file.done(function (info) {
        showPreviewFromCdn(info.cdnUrl);
        try {
          localStorage.setItem('franki:upload', JSON.stringify({
            email: start.email || '',
            pack,
            cdnUrl: info.cdnUrl,
            uuid: info.uuid,
            size: info.size,
            name: info.name,
            mime: info.mimeType
          }));
        } catch (_) {}
      });
    });
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', boot);
  } else {
    boot();
  }

  // Send button
  submit.addEventListener('click', function (e) {
    e.preventDefault();
    if (!filePromise) { alert('Please choose a photo first.'); return; }
    filePromise.done(function (info) {
      if (!info || !info.cdnUrl) { alert('Upload is still processing.'); return; }
      formUI.style.display = 'none';
      doneUI.style.display = 'block';
      root.scrollIntoView({behavior: 'smooth'});
    });
  });
})();
</script>

</body>
</html>
